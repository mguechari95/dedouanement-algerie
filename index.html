<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Calculateur de d√©douanement ‚Äì Alg√©rie (DZD officiel)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: Arial, sans-serif; background:#f4f6f8; margin:0; padding:20px; }
    .container { max-width:760px; margin:auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,.1); }
    h1 { font-size:22px; margin-bottom:10px; }
    label { display:block; margin-top:15px; font-weight:bold; }
    input, select { width:100%; padding:8px; margin-top:5px; }
    button { margin-top:20px; padding:12px; width:100%; font-size:16px; background:#2563eb; color:white; border:none; border-radius:6px; cursor:pointer; }
    button:hover { background:#1e4ed8; }
    .result { margin-top:20px; padding:15px; background:#f1f5f9; border-radius:6px; font-size:14px; }
    .small { font-size:12px; color:#555; margin-top:10px; }
    .sources { margin-top:20px; font-size:14px; }
    .sources a { color:#2563eb; text-decoration:none; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Calculateur de d√©douanement ‚Äì Alg√©rie (DZD officiel)</h1>

    <label>Prix d'achat + transport (‚Ç¨)</label>
    <input type="number" id="cif" placeholder="Ex: 10000" />

    <label>Type de v√©hicule</label>
    <select id="type">
      <option value="neuf">Neuf</option>
      <option value="moins3">Moins de 3 ans</option>
    </select>

    <label>Motorisation / Cylindr√©e</label>
    <select id="motorisation">
      <option value="essence_1800">Essence / Hybride ‚â§ 1800 cm¬≥</option>
      <option value="essence_plus">Essence / Hybride > 1800 cm¬≥</option>
      <option value="electrique">√âlectrique</option>
    </select>

    <label>Taux de change officiel (‚Ç¨ ‚Üí DZD)</label>
    <input type="number" id="taux_officiel" placeholder="Ex: 150" />

    <button onclick="calculer()">Calculer</button>

    <div class="result" id="result" style="display:none"></div>

    <div class="small">
      ‚ö†Ô∏è Tous les calculs sont effectu√©s en DZD officiel. Le droit de timbre fixe de 2 500 DZD est inclus.
    </div>

    <div class="sources">
      <p>üí± Taux officiel : <a href="https://www.bank-of-algeria.dz/taux-de-change-journalier/" target="_blank">Banque d‚ÄôAlg√©rie</a></p>
      <p>üìö R√©f√©rence douane : <a href="https://www.douane.gov.dz/" target="_blank">Direction G√©n√©rale des Douanes</a></p>
    </div>
  </div>

<script>
function calculer() {
  const cif = parseFloat(document.getElementById('cif').value);
  const type = document.getElementById('type').value;
  const motorisation = document.getElementById('motorisation').value;
  const tauxOff = parseFloat(document.getElementById('taux_officiel').value);

  if ([cif, tauxOff].some(isNaN)) {
    alert('Veuillez remplir tous les champs');
    return;
  }

  // Conversion CIF en DZD officiel
  const cifDZD = cif * tauxOff;

  // Droits de douane selon motorisation
  let tauxDD = 0;
  if (motorisation === 'essence_1800') tauxDD = 0.15;
  if (motorisation === 'essence_plus') tauxDD = 0.30;
  if (motorisation === 'electrique') tauxDD = 0.05;
  const ddDZD = cifDZD * tauxDD;

  // TVA 19%
  const tvaDZD = 0.19 * (cifDZD + ddDZD);

  // TCS 2%
  const tcsDZD = 0.02 * (cifDZD + ddDZD + tvaDZD);

  // Droit de timbre fixe
  const timbreDZD = 2500;

  // Total taxes avant r√©duction
  const totalTaxesDZD = ddDZD + tvaDZD + tcsDZD + timbreDZD;

  // R√©duction si <3 ans
  let reduction = 1;
  if (type === 'moins3') {
    if (motorisation === 'essence_1800') reduction = 0.5;
    if (motorisation === 'essence_plus') reduction = 0.8;
    if (motorisation === 'electrique') reduction = 0.2;
  }
  const totalTaxesReduitesDZD = totalTaxesDZD * reduction;

  // Prix de revient total
  const prixTotalDZD = cifDZD + totalTaxesReduitesDZD;

  document.getElementById('result').style.display = 'block';
  document.getElementById('result').innerHTML = `
    <strong>D√©tail du calcul (DZD officiel) :</strong><br><br>
    ‚Ä¢ Prix CIF en DZD : <b>${cifDZD.toLocaleString()}</b><br>
    ‚Ä¢ Droits de douane (DD) : <b>${ddDZD.toLocaleString()}</b><br>
    ‚Ä¢ TVA 19% : <b>${tvaDZD.toLocaleString()}</b><br>
    ‚Ä¢ TCS 2% : <b>${tcsDZD.toLocaleString()}</b><br>
    ‚Ä¢ Droit de timbre : <b>${timbreDZD.toLocaleString()}</b><br>
    ‚Ä¢ Total taxes avant r√©duction : <b>${totalTaxesDZD.toLocaleString()}</b><br>
    ‚Ä¢ R√©duction < 3 ans : <b>${(100*(1-reduction)).toFixed(0)}%</b><br>
    ‚Ä¢ Total taxes apr√®s r√©duction : <b>${totalTaxesReduitesDZD.toLocaleString()}</b><br><br>
    üßæ <strong>Prix de revient total :</strong> <b style="font-size:18px">${prixTotalDZD.toLocaleString()}</b>
  `;
}
</script>
</body>
</html>
